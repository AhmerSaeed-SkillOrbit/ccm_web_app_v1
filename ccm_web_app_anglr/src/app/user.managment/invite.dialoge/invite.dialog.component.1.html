<!-- <div mat-dialog-title class="clearfix">
    <h2 class="float-left">Detail of {{data.name}} </h2>
</div> -->
<mat-dialog-content>
    <div class="row" [hidden]="!isSubmitted">
        <div class="col-md-12">
            <div class="loader" style="margin-top:150px">
                <mat-spinner></mat-spinner>
            </div>
        </div>
    </div>
    <div [hidden]="isSubmitted">
        <div class="section">
            <div class="vm-heading">
                <!-- <form name="form" [formGroup]="form" (keydown.enter)="$event.preventDefault()"> -->
                <form name="form" [formGroup]="form">
                    <div class="row align-item-center">
                        <div class="col-md-12">
                            <!-- <h1 mat-dialog-title>Add New Branch</h1> -->
                            <h1 mat-dialog-title>{{ title || "NA" }}</h1>
                        </div>

                        <!-- Task -->
                        <div class="col-lg-12">
                            <mat-form-field class="full-width">
                                <mat-select placeholder="Select Task" formControlName="task" [(ngModel)]="projectActivityForm.projectTaskId"
                                    (change)="onTaskFocusOut()" required>
                                    <mat-option>None</mat-option>
                                    <mat-option *ngFor="let task of projectTaskList" [value]="task.id">
                                        {{ task?.projectTaskName || "NA" }}
                                    </mat-option>
                                </mat-select>
                                <mat-error *ngIf="form.controls['task'].errors?.required">
                                    Task is
                                    <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>

                        <!-- Activity -->
                        <div class="col-lg-12">
                            <mat-form-field class="full-width">
                                <!-- matTooltip='Branch Name should be a combination of characters and spaces' -->
                                <input matInput placeholder="Activity" maxlength="100" name="ind" formControlName="activity"
                                    [(ngModel)]="projectActivityForm.projectActivity" required trim />
                                <mat-hint align="end">{{ projectActivityForm?.projectActivity?.length || 0 }}/100</mat-hint>
                                <mat-error *ngIf="form.controls['activity'].errors?.required">
                                    Activity is
                                    <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>

                        <!-- Time - Type -->
                        <div class="col-lg-12">
                            <div class="row">
                                <!-- Time -->
                                <div class="col-lg-8">
                                    <mat-form-field class="full-width">
                                        <input matInput type="number" placeholder="Time" formControlName="time" name="time"
                                            [(ngModel)]="projectActivityForm.projectActivityTimeSpent" required />
                                        <mat-error *ngIf="form.controls['time'].errors?.required">
                                            Time is
                                            <strong>required</strong>
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <!-- Type -->
                                <div class="col-lg-4">
                                    <mat-form-field class="full-width">
                                        <mat-select placeholder="Select Time Type" formControlName="timeType"
                                            [(ngModel)]="timeTypeId" (selectionChange)="onTimeTypeFocusOut()">
                                            <mat-option *ngFor="let type of timeTypes" [value]="type.id">
                                                {{ type?.name || "NA" }}
                                            </mat-option>
                                        </mat-select>
                                        <mat-error *ngIf="form.controls['timeType'].errors?.required">
                                            Task is
                                            <strong>required</strong>
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>

                        <!-- Comments -->
                        <div class="col-lg-12">
                            <mat-form-field class="full-width">
                                <textarea matInput placeholder="Comments" formControlName="comments" [(ngModel)]="projectActivityForm.projectActivityComments"
                                    maxlength="500" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="4"
                                    required trim>
                                </textarea>
                                <mat-hint align="end">{{ projectActivityForm?.projectActivityComments?.length ||
                                    0 }}/500</mat-hint>
                                <mat-error *ngIf="form.controls['comments'].errors?.required">
                                    Comments is
                                    <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>

                    </div>

                </form>
            </div>
        </div>
    </div>
    <!-- <div class="col-md-12" >
        <div class="loader">
            <mat-spinner></mat-spinner>
        </div>
    </div> -->
</mat-dialog-content>
<mat-dialog-actions [hidden]="isSubmitted">
    <div class="text-right full-width">
        <button mat-button [mat-dialog-close]="true" (click)="onNoClick()">Close</button>
        <!-- The mat-dialog-close directive optionally accepts a value as a result for the dialog. -->

        <!-- <button mat-raised-button color="primary" [disabled]="!form.valid" (click)="onYesClick()"></button> -->
        <button mat-raised-button color="primary" [disabled]="!form.valid" (click)="onYesClick()">
            {{ projectActivityForm?.id ? "Update" : "Add" }}
        </button>
    </div>
</mat-dialog-actions>